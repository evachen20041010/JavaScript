<!doctype html>
<html>
<link href="css.css" type="text/css" rel="stylesheet" />

<head>
    <meta charset="utf-8">
    <title>HW3_5A9G0006</title>
    <SCRIPT type="text/javascript">
        /*      普通資費表    */

        //定義種類陣列與資料
        CountyName = new Array("信函", "印刷物", "小包", "明信片", "郵簡")

        //定義信函陣列與資料
        //詳細種類陣列
        LetterZone = new Array("普通", "限時", "普通掛號", "限時掛號", "普通掛號附回執(回執為平信)", "限時掛號附回執(回執為平信)")
        //重量陣列
        LetterWeight = new Array("不逾20公克", "21-50公克", "51-100公克", "101-250公克", "251-500公克", "501-1000公克", "1001-2000公克")
        //價錢陣列
        LetterPrice = new Array(6)
        LetterPrice[0] = new Array("8", "16", "24", "40", "72", "112", "160")
        LetterPrice[1] = new Array("15", "23", "31", "47", "79", "119", "167")
        LetterPrice[2] = new Array("28", "36", "44", "60", "92", "132", "180")
        LetterPrice[3] = new Array("35", "43", "51", "67", "99", "139", "187")
        LetterPrice[4] = new Array("43", "51", "59", "75", "107", "147", "195")
        LetterPrice[5] = new Array("50", "58", "66", "82", "114", "154", "202")

        //定義印刷物陣列與資料
        //詳細種類陣列
        PrintZone = new Array("普通", "限時", "普通掛號", "限時掛號", "普通掛號附回執(回執為平信)", "限時掛號附回執(回執為平信)", "新聞紙", "雜誌")
        //重量陣列
        PrintWeight = new Array("不逾20公克", "21-50公克", "51-100公克", "101-250公克", "251-500公克", "501-1000公克", "1001-2000公克")
        //價錢陣列
        PrintPrice = new Array(6)
        PrintPrice[0] = new Array("6", "6", "11", "16", "32", "56", "88")
        PrintPrice[1] = new Array("13", "13", "18", "23", "39", "63", "95")
        PrintPrice[2] = new Array("26", "26", "31", "36", "52", "76", "108")
        PrintPrice[3] = new Array("33", "33", "38", "43", "59", "83", "115")
        PrintPrice[4] = new Array("41", "41", "46", "51", "67", "91", "123")
        PrintPrice[5] = new Array("48", "48", "53", "58", "74", "98", "130")

        //定義小包陣列與資料
        //詳細種類陣列
        PacketZone = new Array("普通", "限時", "普通掛號", "限時掛號", "普通掛號附回執(回執為平信)", "限時掛號附回執(回執為平信)")
        //重量陣列
        PacketWeight = new Array("不逾100公克", "101-200公克", "201-300公克", "301-400公克", "401-500公克", "501-600公克", "601-700公克", "701-800公克", "801-900公克", "901-1000公克")
        //價錢陣列
        PacketPrice = new Array(6)
        PacketPrice[0] = new Array("12", "24", "36", "48", "60", "72", "84", "96", "108", "120")
        PacketPrice[1] = new Array("19", "31", "43", "55", "67", "79", "91", "103", "115", "127")
        PacketPrice[2] = new Array("32", "44", "56", "68", "80", "92", "104", "116", "128", "140")
        PacketPrice[3] = new Array("39", "51", "63", "75", "87", "99", "111", "123", "135", "147")
        PacketPrice[4] = new Array("47", "59", "71", "83", "95", "107", "119", "131", "143", "155")
        PacketPrice[5] = new Array("54", "66", "78", "90", "102", "114", "126", "138", "150", "162")

        //初始種類選擇選單
        function initCounty() {
            document.zipCodeForm.type.length = CountyName.length + 1

            for (i = 0; i < CountyName.length; i++) {
                document.zipCodeForm.type.options[i].value = CountyName[i]
                document.zipCodeForm.type.options[i].text = CountyName[i]
            }

            document.zipCodeForm.type.options[CountyName.length].value = CountyName.length
            document.zipCodeForm.type.options[CountyName.length].text = "請選擇"
            document.zipCodeForm.type.selectedIndex = CountyName.length
        }

        //當種類改變時
        function changeZone() {
            selectedCountyIndex = document.zipCodeForm.type.selectedIndex
            //alert(CountyName[selectedCountyIndex])
            if (CountyName[selectedCountyIndex] == "信函") {
                document.zipCodeForm.detailType.length = LetterZone.length
                for (i = 0; i < LetterZone.length; i++) {
                    document.zipCodeForm.detailType.options[i].text = LetterZone[i]
                }
                document.zipCodeForm.detailType.selectedIndex = 0
            } else if (CountyName[selectedCountyIndex] == "印刷物") {
                document.zipCodeForm.detailType.length = PrintZone.length
                for (i = 0; i < PrintZone.length; i++) {
                    document.zipCodeForm.detailType.options[i].text = PrintZone[i]
                }
                document.zipCodeForm.detailType.selectedIndex = 0
            } else if (CountyName[selectedCountyIndex] == "小包") {
                document.zipCodeForm.detailType.length = PacketZone.length
                for (i = 0; i < PacketZone.length; i++) {
                    document.zipCodeForm.detailType.options[i].text = PacketZone[i]
                }
                document.zipCodeForm.detailType.selectedIndex = 0
            } else if (CountyName[selectedCountyIndex] == "明信片") {
                alert("每件5元，限時明信片每件12元")
                document.getElementById("js").innerHTML = "每件5元，限時明信片每件12元"
            } else if (CountyName[selectedCountyIndex] == "郵簡") {
                alert("每件6元")
                document.getElementById("js").innerHTML = "每件6元"
            }
        }

        //當詳細種類改變時
        function chageDetailType() {
            selectedDetailTypeIndex = document.zipCodeForm.detailType.selectedIndex
            if (CountyName[selectedCountyIndex] == "信函") {
                document.zipCodeForm.weight.length = LetterWeight.length
                for (i = 0; i < LetterWeight.length; i++) {
                    document.zipCodeForm.weight.options[i].text = LetterWeight[i]
                }
                document.zipCodeForm.weight.selectedIndex = 0
            } else if (CountyName[selectedCountyIndex] == "印刷物") {
                if (PrintZone[selectedDetailTypeIndex] == "新聞紙") {
                    alert("每重50公克2元(每件限重不逾2公斤)")
                    document.getElementById("js").innerHTML = "每重50公克2元(每件限重不逾2公斤)"
                } else if (PrintZone[selectedDetailTypeIndex] == "雜誌") {
                    alert("每重50公克3元(每件限重不逾2公斤)")
                    document.getElementById("js").innerHTML = "每重50公克3元(每件限重不逾2公斤)"
                } else {
                    document.zipCodeForm.weight.length = PrintZone.length
                    for (i = 0; i < PrintZone.length - 1; i++) {
                        document.zipCodeForm.weight.options[i].text = PrintWeight[i]
                    }
                    document.zipCodeForm.weight.selectedIndex = 0
                }

            } else if (CountyName[selectedCountyIndex] == "小包") {
                document.zipCodeForm.weight.length = PacketZone.length
                for (i = 0; i < PacketZone.length; i++) {
                    document.zipCodeForm.weight.options[i].text = PacketWeight[i]
                }
                document.zipCodeForm.weight.selectedIndex = 0
            }
        }

        //當重量改變時
        function changeWeight() {
            selectedWeightIndex = document.zipCodeForm.weight.selectedIndex
            if (CountyName[selectedCountyIndex] == "信函") {
                document.getElementById("js").innerHTML = LetterPrice[selectedDetailTypeIndex][selectedWeightIndex]
            } else if (CountyName[selectedCountyIndex] == "印刷物") {
                document.getElementById("js").innerHTML = PrintPrice[selectedDetailTypeIndex][selectedWeightIndex]
            } else if (CountyName[selectedCountyIndex] == "小包") {
                document.getElementById("js").innerHTML = PacketPrice[selectedDetailTypeIndex][selectedWeightIndex]
            }
        }

        /*      普通資費表END    */

        /*      計算機      */

        enterNumFlag = false
        tempOper = "" //暫存運算符號
        calculatorNum = 0 //暫存計算值

        //輸入數字  
        function enterNum(Num) {
            if (enterNumFlag) {
                calculatorForm.outAns.value = Num
                enterNumFlag = false
            } else {
                if (calculatorForm.outAns.value == "0") {
                    calculatorForm.outAns.value = Num
                }
                else {
                    calculatorForm.outAns.value += Num
                }
            }
        }

        //輸入運算符號
        function enterOper(operation) {
            outAns = calculatorForm.outAns.value
            if (!(tempOper != "=" && enterNumFlag)) {
                enterNumFlag = true

                if (tempOper == "+") {
                    calculatorNum += parseFloat(outAns)
                }
                else if (tempOper == "-") {
                    calculatorNum -= parseFloat(outAns)
                }
                else if (tempOper == "/") {
                    calculatorNum /= parseFloat(outAns)
                }
                else if (tempOper == "*") {
                    calculatorNum *= parseFloat(outAns)
                }
                else {
                    calculatorNum = parseFloat(outAns)
                }
                calculatorForm.outAns.value = calculatorNum
                tempOper = operation
            }
        }

        //正負數互轉  
        function invert() {
            calculatorForm.outAns.value = parseFloat(calculatorForm.outAns.value) * -1
        }

        //百分比計算 
        function percent() {
            calculatorForm.outAns.value = (parseFloat(calculatorForm.outAns.value) / 100) * parseFloat(calculatorNum)
        }

        //輸入小數點
        function enterDot() {
            tempAns = calculatorForm.outAns.value

            if (enterNumFlag) {
                tempAns = "0."
                enterNumFlag = false
            } else {
                if (tempAns.indexOf(".") == -1) tempAns += "."
            }
            calculatorForm.outAns.value = tempAns
        }

        //清除  
        function clearAll() {
            calculatorNum = 0
            tempOper = ""
            calculatorForm.outAns.value = "0"
            enterNumFlag = true
        }

        /*      計算機END      */

    </script>
</head>

<body onLoad="initCounty()">
    <center>
        <form name="zipCodeForm">
            <table cellspacing="1" cellpadding="5" border="0" width="50%"
                style="background-color:LightGray;table-layout:fixed">
                <tr>
                    <td>地址： <input name="address" size="80"></td>
                </tr>
                <tr>
                    <td>種類： <select name="type" onChange="changeZone()" size="1"></select></td>
                </tr>
                <tr>
                    <td>詳細種類： <select name="detailType" onChange="chageDetailType()" size="1"></select></td>
                </tr>
                <tr>
                    <td>重量： <select name="weight" onChange="changeWeight()" size="1"></select></td>
                </tr>
                <tr>
                    <td>
                        <p id="js" style="font-size: 40px;font-weight: bolder;text-align: center;"></p>
                    </td>
                </tr>
            </table>
        </form>
        <form name="calculatorForm">
            <table border="1" cellpadding="0" cellspacing="1">
                <tr>
                    <td colspan="3"><input name="outAns" type="Text" value="0" class="ansText"></td>
                    <td colspan="2"><input type="Button" value="C" onclick="clearAll()" class="BtnC"></td>
                </tr>
                <tr>
                    <td><input type="Button" value="7" onclick="enterNum(this.value)" class="Btn"></td>
                    <td><input type="Button" value="8" onclick="enterNum(this.value)" class="Btn"></td>
                    <td><input type="Button" value="9" onclick="enterNum(this.value)" class="Btn"></td>
                    <td><input type="Button" value="+/-" onclick="invert()" class="Btn"></td>
                    <td><input type="Button" value="%" onClick="percent()" class="Btn"></td>
                </tr>
                <tr>
                    <td><input type="Button" value="4" onclick="enterNum(this.value)" class="Btn"></td>
                    <td><input type="Button" value="5" onclick="enterNum(this.value)" class="Btn"></td>
                    <td><input type="Button" value="6" onclick="enterNum(this.value)" class="Btn"></td>
                    <td><input type="Button" value="+" onclick="enterOper(this.value)" class="Btn"></td>
                    <td><input type="Button" value="-" onClick="enterOper(this.value)" class="Btn"></td>
                </tr>
                <tr>
                    <td><input type="Button" value="1" onclick="enterNum(this.value)" class="Btn"></td>
                    <td><input type="Button" value="2" onclick="enterNum(this.value)" class="Btn"></td>
                    <td><input type="Button" value="3" onclick="enterNum(this.value)" class="Btn"></td>
                    <td><input type="Button" value="*" onclick="enterOper(this.value)" class="Btn"></td>
                    <td><input type="Button" value="/" onClick="enterOper(this.value)" class="Btn"></td>
                </tr>
                <tr>
                    <td width="50"><input type="Button" value=" 0" onclick="enterNum(this.value)" class="Btn"></td>
                    <td width="50"><input type="Button" value="." onclick="enterDot()" class="Btn"></td>
                    <td><input type="Button" value="=" onClick="enterOper(this.value)" class="Btn"></td>
                    <td colspan="2" class="oText">信 義 誠 實</td>
                </tr>
            </table>
        </form>
    </center>
</body>

</html>