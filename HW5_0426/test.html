<!-- https://blog.51cto.com/u_15490069/4924249 -->

<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>Stationery Store | 登入</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
    <!-- <link rel="stylesheet" type="text/css" href="pageChange.css" /> -->
    <!-- <script src="pageChange.js"></script> -->
</head>

<body>
    <header>
        <h1>Stationery Store</h1>
    </header>

    <div class="control">
        <div class="item">
            <div class="active">登入</div>
            <div>註冊</div>
        </div>
        <div class="content">
            <div style="display: block;" class="box1">
                <p>帳號：</p>
                <input type="text" placeholder="使用者名稱" name="use2" />
                <span></span>
                <p>密碼：</p>
                <input type="password" placeholder="密碼" name="use2" />
                <span></span>
                <br />
                <input type="submit" value="登入"/>
            </div>
            <div class="box2">
                <p>使用者名稱：</p>
                <input type="text" placeholder="使用者名稱" name="use1" />
                <span style="color:#adadad;font-size: 15px;">以字母開頭至少4位數</span>
                <p>密碼：</p>
                <input type="password" placeholder="密碼" name="use1" />
                <span style="color: #adadad;font-size: 15px;">至少六位數的字母或數字</span>
                <br />
                <input type="submit" value="註冊" />
            </div>
        </div>
    </div>
</body>

</html>

<style>
    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }

    body {
        font-family: Arial, sans-serif;
        background-color: #bad3be;
    }

    body::-webkit-scrollbar {
        display: none;
    }

    .error {
        color: red;
        font-size: 14px;

    }

    .cg {
        color: greenyellow;
        font-size: 14px;
    }

    .control {
        width: 340px;
        background: white;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        border-radius: 5px;
    }

    .item {
        width: 340px;
        height: 60px;
        background: #eeeeee;
    }

    .item div {
        width: 167px;
        height: 60px;
        display: inline-block;
        color: black;
        font-size: 18px;
        text-align: center;
        line-height: 60px;
        cursor: pointer;
    }

    .content {
        width: 100%;
    }

    .content div {
        margin: 20px 30px;
        display: none;
        text-align: left;
    }

    p {
        color: #4a4a4a;
        margin-top: 30px;
        margin-bottom: 6px;
        font-size: 15px;
    }

    .content input[type="text"],
    .content input[type="password"] {
        width: 100%;
        height: 40px;
        border-radius: 3px;
        border: 1px solid #adadad;
        padding: 0 10px;
        box-sizing: border-box;
        border-radius: 5px;
    }

    .content input[type="submit"] {
        margin-top: 40px;
        margin-bottom: 40px;
        width: 100%;
        height: 40px;
        cursor: pointer;
        letter-spacing: 4px;
        font-weight: bold;
        color: #fff;
        background-color: #9ed1be;
        border: none;
        border-radius: 5px;
        transition: background-color 0.3s;
    }

    .content input[type="submit"]:hover{
        background-color: #93b6a2;
    }

    .active {
        background: white;
    }

    .item div:hover {
        background: #f6f6f6;
    }

    header {
        background-color: #81997f;
        color: #fff;
        padding: 20px;
    }

    header h1 {
        margin: 0;
    }

    h1 {
        font-size: 24px;
        margin-bottom: 20px;
        text-align: center;
        font-weight: bolder;
    }
</style>

<script>

    window.onload = function () {
        var item = document.querySelectorAll(".item");
        var it = item[0].querySelectorAll("div")
        var content = document.querySelectorAll(".content");
        var con = content[0].querySelectorAll("div");
        var na1 = document.querySelectorAll('[name="use1"]')
        var na2 = document.querySelectorAll('[name="use2"]')
        var span1 = document.querySelectorAll('.box2 span')
        var span2 = document.querySelectorAll('.box1 span')
        var zc = document.querySelector('[value="註冊"]')
        var dl = document.querySelector('[value="登入"]')

        console.log(span2)
        var userReg = /^[a-zA-Z][a-zA-Z0-9]{3,9}$/
        var telReg = /^[0-9a-zA-Z].{5,14}$/

        for (let i = 0; i < it.length; i++) {
            it[i].onclick = function () {
                for (let j = 0; j < it.length; j++) {
                    it[j].className = '';
                    con[j].style.display = "none";
                }
                this.className = "active";
                it[i].index = i;
                con[i].style.display = "block";
            }
        }

        var flag = false

        // 封裝
        function cf(trr, srnr, index, str, str1) {
            var a1 = trr.test(srnr)
            if (!a1) {
                index.className = 'error'
                index.innerText = str
                index.style.color = "red"
                return true
            } else {
                index.className = 'cg'
                index.innerText = str1
                index.style.color = "green"
                return false

            }

        }
        // 註冊驗證
        na1[0].oninput = () => cf(userReg, na1[0].value, span1[0], 'x 不符合規範', '√ 通過驗證')

        na1[1].oninput = () => cf(telReg, na1[1].value, span1[1], 'x 不符合規範', '√ 通過驗證')

        var arr = []
        zc.onclick = () => {
            flag = true
            if (na1[0].value === '') {
                span1[0].className = 'error'
                return flag = false
            }
            else if (na1[1].value === '') {
                span1[1].className = 'error'
                return flag = false
            } else {
                if (flag) {
                    alert('註冊成功')
                }
            }
        }

        dl.onclick = function () {
            if (na1[0].value != na2[0].value || na1[0].value == '') {
                span2[0].className = 'error'
                span2[0].innerText = '使用者名稱不一致'
            } else {
                span2[0].innerText = ''
                span2[0].className = ''
            }
            if (na1[1].value === '' || na1[1].value != na2[1].value) {
                span2[1].className = 'error'
                span2[1].innerText = '密碼不正確'
            } else {
                span2[1].innerText = ''
                span2[1].className = ''
            }
            if (flag) {
                alert('登入成功')
            }
            else if (na1[0].value != na2[0].value && na1[1].value != na2[1].value) {
                alert('該使用者不存在')
            }
        }
    }
</script>